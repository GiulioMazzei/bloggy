(this["webpackJsonpblog-project"]=this["webpackJsonpblog-project"]||[]).push([[0],{171:function(e,t,c){},172:function(e,t,c){},173:function(e,t,c){},174:function(e,t,c){},175:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(55),o=c.n(a),r=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,176)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;c(e),n(e),s(e),a(e),o(e)}))},i=c(4),l=c(5),j=c(3),d=c(0),b=Object(n.createContext)(),u=function(e){var t=e.children,c=Object(n.useState)([]),s=Object(j.a)(c,2),a=s[0],o=s[1],r=Object(n.useState)(!1),i=Object(j.a)(r,2),l=i[0],u=i[1];return Object(d.jsx)(b.Provider,{value:{posts_list:[a,o],is_empty:[l,u]},children:t})},h=c(11),O=c.n(h),x="http://localhost:3001/api/auth",f={register:function(e,t,c){return O.a.post("".concat(x,"/signup"),{username:e,email:t,password:c})},login:function(e,t,c){return O.a.post("".concat(x,"/signin"),{username:e,email:t,password:c}).then((function(e){return e.data.accessToken&&localStorage.setItem("logged-in-user",JSON.stringify(e.data)),e.data}))},getAllProfiles:function(){return O.a.get("".concat(x,"/all"))},getCurrentUser:function(){return JSON.parse(localStorage.getItem("logged-in-user"))},logout:function(){localStorage.removeItem("logged-in-user")}},v=c.p+"static/media/bg-img.1daf7b02.svg",m=(c(81),function(){return Object(d.jsxs)("div",{className:"blog-initial-container",children:[Object(d.jsx)("div",{className:"img-box",children:Object(d.jsx)("img",{src:v,alt:"dec-img"})}),Object(d.jsx)("h1",{children:"Welcome to Bloggy"}),Object(d.jsxs)("div",{className:"buttons-box",children:[Object(d.jsx)(i.b,{className:"link",to:"/login",children:Object(d.jsx)("button",{className:"login",children:"Login"})}),Object(d.jsx)(i.b,{className:"link",to:"/register",children:Object(d.jsx)("button",{className:"register",children:"Register"})})]})]})}),p=(c(86),function(){var e=f.getCurrentUser().username;return Object(d.jsxs)("div",{className:"nav-bar-container",children:[Object(d.jsxs)("div",{className:"title-img-container",children:[Object(d.jsx)("img",{src:"data:image/png;base64,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",alt:"logo"}),Object(d.jsx)("p",{children:"Bloggy"})]}),Object(d.jsxs)("div",{className:"links-container",children:[Object(d.jsx)("div",{children:Object(d.jsx)(i.b,{className:"link",to:"/home",children:Object(d.jsx)("p",{children:"Home"})})}),Object(d.jsx)("div",{children:Object(d.jsx)(i.b,{className:"link",to:"/add",children:Object(d.jsx)("p",{children:"Add Post"})})}),Object(d.jsx)("div",{children:Object(d.jsx)(i.b,{className:"link",to:"/profile?author=".concat(e),children:Object(d.jsx)("p",{children:"Profile"})})})]})]})}),g="http://localhost:3001/api/posts",P=function(){return O.a.get(g)},N=function(e){return O.a.get("".concat(g,"/t/?title=").concat(e))},A=function(e){return O.a.get("".concat(g,"/a/?author=").concat(e))},y=function(e){return O.a.get("".concat(g,"/c/?category=").concat(e))},C=function(e,t,c,n){return O.a.post(g,{author:e,title:t,content:c,category:n})},w=function(e){return O.a.delete("".concat(g,"/").concat(e))},k=function(e,t,c,n){return O.a.put("".concat(g,"/").concat(e),{title:t,content:c,category:n})},z=function(e){var t=e.value,c=e.onChange,n=e.onClick;return Object(d.jsxs)("div",{className:"search-box",children:[Object(d.jsx)("input",{type:"search",value:t,onChange:c,placeholder:"Search For Posts"}),Object(d.jsx)("button",{onClick:n,children:"Search Posts"})]})},S=c.p+"static/media/avatar.5faf09a7.png",D=c.p+"static/media/post-cover.ae599d56.webp",H=function(e){var t=e.post,c=new Date(t.createdAt).toString().slice(4,15);return Object(d.jsxs)("div",{className:"post-container",children:[Object(d.jsx)("div",{className:"img-box",children:Object(d.jsx)("img",{src:D,alt:""})}),Object(d.jsxs)("div",{className:"content-box",children:[Object(d.jsxs)("div",{className:"author-box",children:[Object(d.jsx)(i.b,{className:"link",to:"/profile?author=".concat(t.author),children:Object(d.jsxs)("div",{className:"box-1",children:[Object(d.jsx)("img",{src:S,alt:"author"}),Object(d.jsx)("p",{children:t.author})]})}),Object(d.jsx)("div",{className:"box-2",children:Object(d.jsxs)("p",{children:["Published ",c]})})]}),Object(d.jsx)("div",{className:"title-description-box",children:Object(d.jsxs)(i.b,{className:"link",to:"/post?title=".concat(t.title),children:[Object(d.jsx)("p",{className:"post-title",children:t.title}),Object(d.jsx)("div",{className:"content",children:Object(d.jsx)("p",{children:t.content})})]})})]})]})},F=function(){return Object(d.jsx)("div",{className:"posts-not-found",children:Object(d.jsx)("p",{children:"No Posts Found"})})},B=function(e){var t=e.posts;return Object(d.jsxs)("div",{className:"posts-details-container",children:[Object(d.jsxs)("p",{className:"posts-num",children:[t.length," posts"]}),Object(d.jsx)("p",{className:"active",children:"Newest"})]})},E=function(){var e=Object(n.useContext)(b).posts_list,t=Object(j.a)(e,2),c=(t[0],t[1]),s=Object(n.useState)(0),a=Object(j.a)(s,2),o=a[0],r=a[1],i=function(e){if(o===e)return"active"},l=function(e,t){r(e),function(e){y(e).then((function(e){return c(e.data)})).catch((function(e){return console.log(e)}))}(t)};return Object(d.jsxs)("div",{className:"categories-container",children:[Object(d.jsx)("div",{className:"category-box ".concat(i(0)),onClick:function(){return l(0,"")},children:Object(d.jsx)("p",{children:"All"})}),Object(d.jsx)("div",{className:"category-box ".concat(i(1)),onClick:function(){return l(1,"Fashion")},children:Object(d.jsx)("p",{children:"Fashion"})}),Object(d.jsx)("div",{className:"category-box ".concat(i(2)),onClick:function(){return l(2,"Food")},children:Object(d.jsx)("p",{children:"Food"})}),Object(d.jsx)("div",{className:"category-box ".concat(i(3)),onClick:function(){return l(3,"House")},children:Object(d.jsx)("p",{children:"House"})}),Object(d.jsx)("div",{className:"category-box ".concat(i(4)),onClick:function(){return l(4,"Sport")},children:Object(d.jsx)("p",{children:"Sport"})}),Object(d.jsx)("div",{className:"category-box ".concat(i(5)),onClick:function(){return l(5,"Science")},children:Object(d.jsx)("p",{children:"Science"})}),Object(d.jsx)("div",{className:"category-box ".concat(i(6)),onClick:function(){return l(6,"Technology")},children:Object(d.jsx)("p",{children:"Technology"})})]})},J=function(){var e=Object(n.useContext)(b).posts_list,t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(""),o=Object(j.a)(a,2),r=o[0],i=o[1];Object(n.useEffect)((function(){l()}),[]);var l=function(){P().then((function(e){return s(e.data)})).catch((function(e){return console.log(e)}))};return Object(d.jsxs)("div",{className:"post-list-container",children:[Object(d.jsx)("h1",{className:"title",children:"Search for Titles"}),Object(d.jsx)(z,{value:r,onChange:function(e){return i(e.target.value)},onClick:function(){N(r).then((function(e){return s(e.data)})).catch((function(e){return console.log(e)}))}}),Object(d.jsx)("div",{className:"separator"}),Object(d.jsxs)("div",{className:"posts-controllers",children:[Object(d.jsx)(B,{posts:c}),Object(d.jsx)(E,{})]}),Object(d.jsx)("div",{className:"separator"}),0===c.length?Object(d.jsx)(F,{}):c.map((function(e,t){return Object(d.jsx)(H,{post:e},t)}))]})},T=function(e){var t=e.profiles,c=Object(n.useContext)(b).is_empty,s=Object(j.a)(c,2),a=(s[0],s[1]);return Object(n.useEffect)((function(){a(0===t.length)}),[t.length,a]),Object(d.jsxs)("div",{className:"profiles-container",children:[Object(d.jsx)("div",{className:"title",children:Object(d.jsx)("p",{children:"Other Authors"})}),t.slice(0,5).map((function(e,t){return Object(d.jsxs)("div",{className:"profile-container",children:[Object(d.jsx)("img",{src:S,alt:"avatar"}),Object(d.jsx)(i.b,{className:"link",to:"/profile?author=".concat(e),children:Object(d.jsx)("p",{children:e})})]},t)}))]})},X=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1];Object(n.useEffect)((function(){a()}),[]);var a=function(){var e=f.getCurrentUser().username;f.getAllProfiles().then((function(t){t.data.splice(t.data.indexOf(e),1),s(t.data)})).catch((function(e){return console.log(e)}))};return Object(d.jsx)(T,{profiles:c})},U=(c(87),function(){var e=f.getCurrentUser(),t=Object(n.useContext)(b).is_empty,c=Object(j.a)(t,2),s=c[0];c[1];return e?Object(d.jsxs)("div",{children:[Object(d.jsx)(p,{}),Object(d.jsxs)("div",{className:"home-container",children:[Object(d.jsx)("div",{className:"posts-container",children:Object(d.jsx)(J,{})}),Object(d.jsx)("div",{style:{display:s&&"none"},className:"side-menu-container",children:Object(d.jsx)(X,{})})]})]}):Object(d.jsx)(m,{})}),L=c(21),Y=c.n(L),q=c(15),I=c.n(q),R=c(22),M=c.n(R),Q=function(e){var t=e.onSubmit,c=e.form,n=e.values,s=e.onChanges,a=e.validations,o=e.message,r=e.checkBtn;return Object(d.jsxs)(Y.a,{onSubmit:t,ref:c,className:"form",children:[o&&Object(d.jsx)("div",{className:"message-container-register",children:Object(d.jsx)("div",{role:"alert",children:Object(d.jsx)("p",{children:o})})}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("div",{className:"label-box",children:Object(d.jsx)("label",{htmlFor:"username",children:"Username"})}),Object(d.jsx)(I.a,{type:"text",className:"form-control",name:"username",value:n[0],onChange:s[0],validations:a[0],placeholder:"Enter Your Username"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("div",{className:"label-box",children:Object(d.jsx)("label",{htmlFor:"email",children:"Email"})}),Object(d.jsx)(I.a,{type:"text",className:"form-control",name:"email",value:n[1],onChange:s[1],validations:a[1],placeholder:"Enter Your Email"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("div",{className:"label-box",children:Object(d.jsx)("label",{htmlFor:"password",children:"Password"})}),Object(d.jsx)(I.a,{type:"password",className:"form-control",name:"password",value:n[2],onChange:s[2],validations:a[2],placeholder:"Enter Your Password"})]}),Object(d.jsx)("div",{className:"button-box-register",children:Object(d.jsx)("button",{children:"Sign Up"})}),Object(d.jsx)(M.a,{style:{display:"none"},ref:r})]})},Z=c(57),G={required:function(e){if(!e)return Object(d.jsx)("div",{role:"alert",children:"This field is required!"})},validUsername:function(e){if(e.length<3||e.length>20)return Object(d.jsx)("div",{role:"alert",children:"The username must be between 3 and 20 characters."})},validEmail:function(e){if(!Object(Z.isEmail)(e))return Object(d.jsx)("div",{role:"alert",children:"This is not a valid email."})},validPassword:function(e){if(e.length<6||e.length>40)return Object(d.jsx)("div",{role:"alert",children:"The password must be between 6 and 40 characters."})}},K=(c(54),function(e){var t=Object(n.useRef)(),c=Object(n.useRef)(),s=Object(n.useState)(""),a=Object(j.a)(s,2),o=a[0],r=a[1],l=Object(n.useState)(""),b=Object(j.a)(l,2),u=b[0],h=b[1],O=Object(n.useState)(""),x=Object(j.a)(O,2),v=x[0],m=x[1],p=Object(n.useState)(""),g=Object(j.a)(p,2),P=g[0],N=g[1];return Object(d.jsxs)("div",{className:"register-container",children:[Object(d.jsx)("h1",{className:"title",children:"Register"}),Object(d.jsx)(Q,{onSubmit:function(n){n.preventDefault(),N(""),t.current.validateAll(),0===c.current.context._errors.length&&f.register(o,u,v).then((function(t){N(t.data.message),e.history.push("/login"),window.location.reload()}),(function(e){var t,c,n=(null===(t=e.response)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.message)||e.message||e.toString();N(n)}))},form:t,values:[o,u,v],onChanges:[function(e){return r(e.target.value)},function(e){return h(e.target.value)},function(e){return m(e.target.value)}],validations:[[G.required,G.validUsername],[G.required,G.validEmail],[G.required,G.validPassword]],message:P,checkBtn:c}),Object(d.jsx)("div",{className:"helper",children:Object(d.jsxs)("p",{children:["Already Have an Account ? ",Object(d.jsx)(i.b,{className:"link-register",to:"/login",children:"Sign In"})]})})]})}),V=function(e){var t=e.onSubmit,c=e.form,n=e.values,s=e.onChanges,a=e.validations,o=e.loading,r=e.message,i=e.checkBtn;return Object(d.jsxs)(Y.a,{onSubmit:t,ref:c,className:"form",children:[r&&Object(d.jsx)("div",{className:"message-container-login",children:Object(d.jsx)("div",{role:"alert",children:Object(d.jsx)("p",{children:r})})}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("div",{className:"label-box",children:Object(d.jsx)("label",{className:"label",htmlFor:"username",children:"Username"})}),Object(d.jsx)(I.a,{type:"text",className:"form-control",name:"username",value:n[0],onChange:s[0],validations:a[0],placeholder:"Enter Your Username"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("div",{className:"label-box",children:Object(d.jsx)("label",{className:"label",htmlFor:"password",children:"Email"})}),Object(d.jsx)(I.a,{type:"email",className:"form-control",name:"email",value:n[1],onChange:s[1],validations:a[1],placeholder:"Enter Your Email"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("div",{className:"label-box",children:Object(d.jsx)("label",{className:"label",htmlFor:"password",children:"Password"})}),Object(d.jsx)(I.a,{type:"password",className:"form-control",name:"password",value:n[2],onChange:s[2],validations:a[2],placeholder:"Enter Your Password"})]}),Object(d.jsx)("div",{className:"button-box-login",children:Object(d.jsx)("button",{disabled:o,children:"Login"})}),Object(d.jsx)(M.a,{style:{display:"none"},ref:i})]})},W=function(e){var t=Object(n.useRef)(),c=Object(n.useRef)(),s=Object(n.useState)(""),a=Object(j.a)(s,2),o=a[0],r=a[1],l=Object(n.useState)(""),b=Object(j.a)(l,2),u=b[0],h=b[1],O=Object(n.useState)(""),x=Object(j.a)(O,2),v=x[0],m=x[1],p=Object(n.useState)(!1),g=Object(j.a)(p,2),P=g[0],N=g[1],A=Object(n.useState)(""),y=Object(j.a)(A,2),C=y[0],w=y[1];return Object(d.jsxs)("div",{className:"login-container",children:[Object(d.jsx)("h1",{className:"title",children:"Login"}),Object(d.jsx)(V,{onSubmit:function(n){n.preventDefault(),w(""),N(!0),t.current.validateAll(),0===c.current.context._errors.length?f.login(o,u,v).then((function(){e.history.push("/home"),window.location.reload()}),(function(e){var t,c,n=(null===(t=e.response)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.message)||e.message||e.toString();N(!1),w(n)})):N(!1)},form:t,values:[o,u,v],onChanges:[function(e){return r(e.target.value)},function(e){return h(e.target.value)},function(e){return m(e.target.value)}],validations:[[G.required],[G.required],[G.required]],loading:P,message:C,checkBtn:c}),Object(d.jsx)("div",{className:"helper",children:Object(d.jsxs)("p",{children:["Don't Have an Account ? ",Object(d.jsx)(i.b,{className:"link-login",to:"/register",children:"Sign Up"})]})})]})},_=function(e,t){f.getCurrentUser()||(e.history.push(t),window.location.reload())},$=function(e){var t=e.post;return Object(d.jsx)("div",{className:"author-post",children:Object(d.jsx)(i.b,{className:"link",to:"/post?title=".concat(t.title),children:Object(d.jsx)("p",{children:t.title})})})},ee=function(e){var t=e.posts;return Object(d.jsx)("div",{className:"author-post-box",children:0===t.length?Object(d.jsx)("div",{className:"no-post",children:Object(d.jsx)("p",{})}):Object(d.jsxs)("div",{className:"recent-posts",children:[Object(d.jsx)("p",{children:"recent posts"}),t.slice(0,5).map((function(e,t){return Object(d.jsx)($,{post:e},t)}))]})})},te=function(e){var t=e.author,c=e.isAuthor,n=e.posts,s=e.onClick;return Object(d.jsxs)("div",{className:"profile-page-container",children:[Object(d.jsxs)("div",{className:"img-title-box",children:[Object(d.jsx)("div",{className:"img-box",children:Object(d.jsx)("img",{src:S,alt:"avt-1",width:"100"})}),Object(d.jsxs)("div",{className:"title-and-button",children:[Object(d.jsx)("h1",{className:"title",children:t}),c&&Object(d.jsx)(i.b,{className:"link",to:"/home",children:Object(d.jsx)("button",{onClick:s,children:"Logout"})})]})]}),Object(d.jsxs)("div",{className:"published-posts",children:[Object(d.jsx)("p",{className:"title",children:"Authors' Posts"}),Object(d.jsxs)("p",{className:"description",children:["This author has published ",n.length," posts"]}),Object(d.jsx)(ee,{posts:n})]})]})},ce=(c(171),function(e){_(e,"/home");var t=Object(n.useState)([]),c=Object(j.a)(t,2),s=c[0],a=c[1],o=Object(n.useState)(""),r=Object(j.a)(o,2),i=r[0],l=r[1],b=Object(n.useState)(!1),u=Object(j.a)(b,2),h=u[0],O=u[1];return Object(n.useEffect)((function(){l(e.location.search.slice(8).replace(/%20/g," ")),A(i).then((function(e){return a(e.data)})).catch((function(e){return console.log(e)})),i===f.getCurrentUser().username&&O(!0)}),[i,e.location.search]),Object(d.jsxs)("div",{children:[Object(d.jsx)(p,{}),Object(d.jsx)(te,{author:i,isAuthor:h,posts:s,onClick:f.logout})]})}),ne=function(e){var t=e.post,c=e.isAuthor,n=e.onClick;return Object(d.jsxs)("div",{className:"post-page-container",children:[Object(d.jsx)("h1",{className:"title",children:t.title}),Object(d.jsxs)("div",{className:"post-info",children:[Object(d.jsx)(i.b,{className:"link",to:"/profile?author=".concat(t.author),children:Object(d.jsxs)("div",{className:"author",children:[Object(d.jsx)("img",{src:S,alt:""}),Object(d.jsx)("p",{children:t.author})]})}),Object(d.jsx)("p",{className:"category",children:t.category})]}),Object(d.jsx)("div",{className:"content",children:Object(d.jsx)("p",{children:t.content})}),c&&Object(d.jsxs)("div",{className:"buttons-box",children:[Object(d.jsx)(i.b,{className:"link",to:"/add/update?title=".concat(t.title),children:Object(d.jsx)("button",{className:"btn-update",children:"Update Post"})}),Object(d.jsx)("button",{className:"btn-delete",onClick:n,children:"Delete Post"})]}),Object(d.jsx)("div",{className:"separator"})]})},se=(c(172),function(e){_(e,"/home");var t=Object(n.useState)({}),c=Object(j.a)(t,2),s=c[0],a=c[1],o=Object(n.useState)(!1),r=Object(j.a)(o,2),i=r[0],l=r[1];Object(n.useEffect)((function(){var t=e.location.search.slice(7).replace(/%20/g," ");b(t)}),[e.location.search]);var b=function(e){N(e).then((function(e){a(e.data[0]),f.getCurrentUser().username===e.data[0].author&&l(!0)})).catch((function(e){return console.log(e)}))};return Object(d.jsxs)("div",{children:[Object(d.jsx)(p,{}),Object(d.jsx)(ne,{post:s,isAuthor:i,onClick:function(){w(s.id).then((function(t){return e.history.push("/home")})).catch((function(e){return console.log(e)}))}})]})}),ae=c(18),oe=c(13),re=function(e){var t=e.post,c=e.onChange,n=e.onClick;return Object(d.jsxs)("div",{className:"add-post-container",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("div",{className:"label-box",children:Object(d.jsx)("label",{htmlFor:"title",children:"Title"})}),Object(d.jsx)("input",{type:"text",id:"title",required:!0,value:t.title,onChange:c[0],name:"title",placeholder:"Enter The Title"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("div",{className:"label-box",children:Object(d.jsx)("label",{htmlFor:"description",children:"Content"})}),Object(d.jsx)("textarea",{type:"text",id:"content",required:!0,value:t.content,onChange:c[0],name:"content",placeholder:"Enter The Content"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("div",{className:"label-box",children:Object(d.jsx)("label",{htmlFor:"category",children:"Category"})}),Object(d.jsxs)("select",{onChange:c[1],children:[Object(d.jsx)("option",{value:"none",selected:!0,disabled:!0,hidden:!0,children:"Select a Category"}),Object(d.jsx)("option",{name:"All",value:"All",children:"All"}),Object(d.jsx)("option",{name:"Fashion",value:"Fashion",children:"Fashion"}),Object(d.jsx)("option",{name:"Food",value:"Food",children:"Food"}),Object(d.jsx)("option",{name:"House",value:"House",children:"House"}),Object(d.jsx)("option",{name:"Sport",value:"Sport",children:"Sport"}),Object(d.jsx)("option",{name:"Science",value:"Science",children:"Science"}),Object(d.jsx)("option",{name:"Technology",value:"Technology",children:"Technology"})]})]}),Object(d.jsx)("div",{className:"button-box",children:Object(d.jsx)("button",{onClick:n,className:"btn-add",children:"Add Post"})})]})},ie=function(e){var t=e.currentPost,c=e.onChange,n=e.onClick;return Object(d.jsxs)("div",{className:"add-post-container",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("div",{className:"label-box",children:Object(d.jsx)("label",{htmlFor:"title",children:"Title"})}),Object(d.jsx)("input",{type:"text",id:"title",required:!0,value:t.title,onChange:c[0],name:"title",placeholder:"Enter The Title"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("div",{className:"label-box",children:Object(d.jsx)("label",{htmlFor:"description",children:"Content"})}),Object(d.jsx)("textarea",{type:"text",id:"content",required:!0,value:t.content,onChange:c[0],name:"content",placeholder:"Enter The Content"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("div",{className:"label-box",children:Object(d.jsx)("label",{htmlFor:"category",children:"Category"})}),Object(d.jsxs)("select",{onChange:c[1],children:[Object(d.jsx)("option",{value:"none",selected:!0,disabled:!0,hidden:!0,children:"Select a Category"}),Object(d.jsx)("option",{name:"All",value:"All",children:"All"}),Object(d.jsx)("option",{name:"Fashion",value:"Fashion",children:"Fashion"}),Object(d.jsx)("option",{name:"Food",value:"Food",children:"Food"}),Object(d.jsx)("option",{name:"House",value:"House",children:"House"}),Object(d.jsx)("option",{name:"Sport",value:"Sport",children:"Sport"}),Object(d.jsx)("option",{name:"Science",value:"Science",children:"Science"}),Object(d.jsx)("option",{name:"Technology",value:"Technology",children:"Technology"})]})]}),Object(d.jsx)("div",{className:"button-box",children:Object(d.jsx)("button",{onClick:n,className:"btn-update",children:"Update Post"})})]})},le=function(e){var t=e.onClick;return Object(d.jsxs)("div",{className:"post-submit-success",children:[Object(d.jsx)("div",{className:"message-box",children:Object(d.jsx)("p",{children:"You Post has been successfully published"})}),Object(d.jsx)("button",{onClick:t,children:"Add New"})]})},je=(c(173),function(e){_(e,"/home");var t={id:null,author:JSON.parse(localStorage.getItem("logged-in-user")).username,title:"",content:"",category:""},c=Object(n.useState)(t),s=Object(j.a)(c,2),a=s[0],o=s[1],r=Object(n.useState)(t),i=Object(j.a)(r,2),l=i[0],b=i[1],u=Object(n.useState)(!1),h=Object(j.a)(u,2),O=h[0],x=h[1],f=Object(n.useState)(!1),v=Object(j.a)(f,2),m=v[0],g=v[1];Object(n.useEffect)((function(){e.location.search.includes("title")&&g(!0);var t=e.location.search.slice(7).replace(/%20/g," ");P(t)}),[m,e.location.search]);var P=function(e){N(e).then((function(e){return b(e.data[0])})).catch((function(e){return console.log(e)}))};return O?Object(d.jsxs)("div",{children:[Object(d.jsx)(p,{}),Object(d.jsx)(le,{onClick:function(){o(t),x(!1)}})]}):Object(d.jsxs)("div",{children:[Object(d.jsx)(p,{}),m?Object(d.jsx)(ie,{currentPost:l,onChange:[function(e){return b(Object(oe.a)(Object(oe.a)({},l),{},Object(ae.a)({},e.target.name,e.target.value)))},function(e){return b(Object(oe.a)(Object(oe.a)({},l),{},{category:e.target.value}))}],onClick:function(){k(l.id,l.title,l.content,l.category).then((function(t){e.history.push("/post?title=".concat(l.title)),window.location.reload()})).catch((function(e){return console.log(e)}))}}):Object(d.jsx)(re,{post:a,onChange:[function(e){return o(Object(oe.a)(Object(oe.a)({},a),{},Object(ae.a)({},e.target.name,e.target.value)))},function(e){return o(Object(oe.a)(Object(oe.a)({},a),{},{category:e.target.value}))}],onClick:function(){C(a.author,a.title,a.content,a.category).then((function(e){o({id:e.data.id,author:e.data.author,title:e.data.title,content:e.data.content,category:e.data.category}),x(!0)})).catch((function(e){return console.log(e)}))}})]})}),de=(c(174),function(){return Object(d.jsx)(i.a,{children:Object(d.jsxs)(l.d,{children:[Object(d.jsx)(l.a,{exact:!0,from:"/",to:"/home"}),Object(d.jsx)(l.b,{exact:!0,path:"/home",component:U}),Object(d.jsx)(l.b,{exact:!0,path:"/register",component:K}),Object(d.jsx)(l.b,{exact:!0,path:"/login",component:W}),Object(d.jsx)(l.b,{exact:!0,path:"/profile",component:ce}),Object(d.jsx)(l.b,{path:"/post",component:se}),Object(d.jsx)(l.b,{path:"/add",component:je})]})})});o.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(u,{children:Object(d.jsx)(de,{})})}),document.getElementById("root")),r()},54:function(e,t,c){},81:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){}},[[175,1,2]]]);
//# sourceMappingURL=main.ef79a989.chunk.js.map